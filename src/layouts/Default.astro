---
import type { AccentName } from "@catppuccin/palette";

import Skeleton from "./Skeleton.astro";

import Navigation from "./components/Navigation.astro";
import Head from "./components/Head.astro";
import Footer from "./components/Footer.astro";
import AccentBar from "./components/AccentBar.astro";

interface Props {
  title: string;
  description: string;
  ogImage?: string;
  accent?: AccentName;
  enableViewTransition?: boolean;
}

const { title, description, ogImage, accent, enableViewTransition } = Astro.props;
---

<Skeleton>
  <Head slot="seo" {title} {description} {ogImage} {accent} {enableViewTransition} />

  <section class="header-container">
    <div class="content-wrapper">
      <Navigation />
    </div>
  </section>

  <div class="content-wrapper main-container">
    <slot />
  </div>

  <section class="footer-container">
    <div class="content-wrapper">
      <Footer />
    </div>
    <AccentBar />
  </section>
</Skeleton>

<style lang="scss">
  @use "@styles/utils" as *;

  .main-container {
    min-height: 100vh;
  }

  .content-wrapper {
    container-type: inline-size;
    container-name: content-wrapper;
    width: 100%;
    max-width: calc(2 * var(--padding-body) + var(--website-max-width));
    margin-inline: auto;
    padding: space(md) var(--padding-body);
  }

  .header-container {
    padding-block: var(--space-md);
  }

  .footer-container {
    margin-block-start: var(--space-xl);
    background-color: var(--mantle);
  }
</style>
