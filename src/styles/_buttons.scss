@use "utils";

@keyframes btnFadeOut {
  to {
    background-color: var(--surface0);

    color: var(--text);
  }
}

.btn-group {
  display: flex;
  gap: var(--space-xs);
  flex-wrap: wrap;
}

.btn {
  @include utils.containerPadding(xs-y);

  border-radius: 9999px;
  border: none;
  background-color: var(--surface0);

  font-size: 1.6rem;
  font-weight: 500;
  color: var(--text);

  cursor: pointer;

  transition:
    opacity 225ms cubic-bezier(0, 0, 0, 1),
    translate 225ms cubic-bezier(0, 0, 0, 1),
    scale 150ms cubic-bezier(0, 0, 0, 1),
    background 225ms cubic-bezier(0, 0, 0, 1);

  will-change: opacity, scale;

  // State layer
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background-color: currentColor;
    transition: opacity 50ms linear;
    opacity: 0;

    will-change: opacity;
  }

  @media (hover: hover) {
    &:hover {
      // scale: 1.05;
      &::after {
        opacity: 0.08;
      }
    }
  }

  &:active {
    scale: 0.95;
    &::after {
      opacity: 0.16;
    }
  }

  &-small {
    @include utils.containerPadding(xxs);

    border-radius: var(--border-radius-normal);
  }

  &-transparent {
    background-color: transparent;
  }

  &-has-icon {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
  }

  @media (pointer: coarse) {
    & {
      min-width: var(--btn-target-size, 44px);
      min-height: var(--btn-target-size, 44px);
    }
    &-small {
      @include utils.containerPadding(xxs-y);
    }
  }

  &-peach {
    background-color: var(--peach);
    background-image: linear-gradient(120deg, var(--peach), var(--red));
    background-size: 150% 100%;
    background-position: top left;

    font-weight: 600;
    color: var(--inverted-text);

    &:hover {
      background-position: top right;
    }
  }

  &-mauve {
    background-color: var(--mauve);
    background-image: linear-gradient(120deg, var(--pink), var(--mauve));
    background-size: 150% 100%;
    background-position: top left;

    font-weight: 600;
    color: var(--inverted-text);

    &:hover {
      background-position: top right;
    }
  }

  &-green {
    background-color: var(--green);
    background-image: linear-gradient(120deg, var(--teal), var(--green));
    background-size: 150% 100%;
    background-position: top left;

    font-weight: 600;
    color: var(--inverted-text);

    &:hover {
      background-position: top right;
    }
  }

  &-blue {
    background-color: var(--blue);
    background-image: linear-gradient(120deg, var(--blue), var(--sky));
    background-size: 150% 100%;
    background-position: top left;

    font-weight: 600;
    color: var(--inverted-text);

    &:hover {
      background-position: top right;
    }
  }

  &-success {
    background-color: var(--green);

    color: var(--inverted-text);

    animation: btnFadeOut 350ms linear forwards;
    animation-delay: 500ms;
  }
}
